import pandas as pd


class DatasetLoader:

    @staticmethod
    def load_graph_file(file_path):

        graph = []

        data_frames = pd.read_csv(file_path, converters={i: str for i in range(5)})

        for row_index in range(len(data_frames)):

            # opcode
            opcode = int(str(data_frames["O"][row_index]), 16)
            if row_index <= 14:
                opcode = 256 + row_index

            # # opname
            # if not pd.isna(data_frames["N"][row_index]):
            #     opname = str(data_frames["N"][row_index])
            # else:
            #     opname = ""
            #
            # # reg
            # if not pd.isna(data_frames["R"][row_index]):
            #     raw_str = str(data_frames["R"][row_index])
            #     regs = [int(x, 16) for x in raw_str.split()]
            # else:
            #     regs = []
            #
            # # mem
            # if not pd.isna(data_frames["M"][row_index]):
            #     raw_str = str(data_frames["M"][row_index])
            #     mems = [int(x, 16) for x in raw_str.split()]
            # else:
            #     mems = []

            # next
            if not pd.isna(data_frames["D"][row_index]):
                raw_str = data_frames["D"][row_index]
                nexts = [int(x, 16) for x in raw_str.split()]
            else:
                nexts = []

            graph.append((opcode, nexts))
            pass

        return graph
